<html>
  <head>
    <meta charset="utf-8" />
    <title>Get Token</title>
  </head>
  <body>
    <div id="dz-root"></div>
    <p>
      <strong>Token</strong>:
      <span id="token"></span>
    </p>
    <button role="button" onclick="getToken();return false">Get Token</button>
    <script src="https://e-cdns-files.dzcdn.net/js/min/dz.js"></script>
    <script>
      DZ.init({
        appId: "414442",
        channelUrl:
          document.location.protocol +
          "//" +
          document.location.host +
          document.location.pathname +
          "channel.html",
      });
      const getToken = () => {
        DZ.login(
          (response) => {
            if (response.authResponse) {
              document.getElementById("token").innerHTML =
                response.authResponse.accessToken;
            }
          },
          {
            perms: "offline_access,manage_library,delete_library",
          }
        );
      };
    </script>
  </body>
</html>
